
<div class="container mx-auto w-50 py-5 my-5  "><form (ngSubmit)="registerSubmit()" action="" class="py-4" [formGroup]="registerForm">

    <h2 *ngIf="errorMessage" class="bg-danger-subtle mb-3 p-3 mX-auto rounded-3 ">
        {{errorMessage}}
    </h2>

<div class="d-flex flex-column gap-3">
    <h2 class="">Register Now: </h2>
    <div class="form-floating">

        <input formControlName="name" type="text" class="form-control" id="name" placeholder="">
        <label for="name">
            Name
        </label>

        
    </div>
    <div *ngIf="registerForm.get('name')?.errors && registerForm.get('name')?.touched  " class="bg-danger-subtle mb-3 rounded-2 d-flex justify-content-center flex-column gap-1 my-1">
        <p *ngIf="registerForm.get('name')?.errors?.['required']" class="p-0 m-0 p-2">
            Your name is required.
        </p>

        <p *ngIf="registerForm.get('name')?.errors?.['minlength']" class="p-0 m-0 p-2">
            Your name should contain at least three characters.
        </p>

        <p *ngIf="registerForm.get('name')?.errors?.['pattern']" class="p-0 m-0 p-2">
           Please enter a valid name.
        </p>

        <p *ngIf="registerForm.get('name')?.errors?.['maxlength']" class="p-0 m-0 p-2">
            Your name shouldn't contain more than 12 characters.
         </p>
    </div>
    
    <div class="form-floating">

        <input formControlName="email" type="email" class="form-control" id="email" placeholder="">
        <label for="email">
            Email
        </label>
    </div>

    <div *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched " class="bg-danger-subtle mb-3 rounded-2 d-flex align-items-center ">
        <p *ngIf="registerForm.get('email')?.errors?.['required']" class="p-0 m-0 p-2">
            Your Email is required.
        </p>

        <p *ngIf="registerForm.get('email')?.errors?.['email']" class="p-0 m-0 p-2">
            Please enter a valid email.
        </p>
    </div>
    
    <div class="form-floating">

        <input formControlName="password" type="password" class="form-control" id="password" placeholder="">
        <label for="password">
            Password
        </label>
    </div>

    <div *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched" class="bg-danger-subtle mb-3 rounded-2 d-flex align-items-center ">
        <p *ngIf="registerForm.get('password')?.errors?.['pattern']" class="p-0 m-0 p-2">
            Your password should contain at least 8 characters including a capital case letter(A-Z), a lower case letter(a-z), a number (0-9), and a special character(@ , ! , % , ...).
        </p>

        <p *ngIf="registerForm.get('password')?.errors?.['required']" class="p-0 m-0 p-2">
            Your password is required.
        </p>
    </div>
    
    <div class="form-floating">

        <input  formControlName="rePassword" type="password" class="form-control" id="repassword" placeholder="">
        <label for="repassword">
            Confirm password
        </label>
    </div>
    <div *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched" class="bg-danger-subtle mb-3 rounded-2 d-flex align-items-center ">
        <p *ngIf="registerForm.get('rePassword')?.errors?.['required']" class="p-0 m-0 p-2">
            Please re-enter your password.
        </p>

        <p *ngIf="registerForm.get('rePassword')?.errors?.['matchingError']" class="p-0 m-0 p-2">
            Your passwords do not match.
        </p>
    </div>

    
    
    <div class="form-floating">

        <input  formControlName="phone" type="tel" class="form-control" id="phone" placeholder="">
        <label for="phone">
            Phone
        </label>
    </div>

    <div *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched" class="bg-danger-subtle mb-3 rounded-2 d-flex align-items-center ">
        <p *ngIf="registerForm.get('phone')?.errors?.['pattern']" class="p-0 m-0 p-2">
            Please enter a valid phobne number.
        </p>

        <p *ngIf="registerForm.get('phone')?.errors?.['required']" class="p-0 m-0 p-2">
            Your phone number is required.
        </p>
    </div>
    
</div>
<button  [class.mainColor]="registerForm.invalid" [disabled]="registerForm.invalid" type="submit" class="btn register-button text-light d-block w-auto ms-auto my-4">Register <i *ngIf="isLoading" class="fa-solid fa-spinner fa-spin"></i></button>
   
    </form>

</div>